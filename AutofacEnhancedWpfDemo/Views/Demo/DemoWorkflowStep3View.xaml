<UserControl
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:av="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="av" x:Class="AutofacEnhancedWpfDemo.Views.Demo.DemoWorkflowStep3View"
             Background="White" av:DesignHeight="525.188" av:DesignWidth="492.559">
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="✅ Step 3: Review Order" 
                   FontSize="20" 
                   FontWeight="Bold"
                   Margin="0,0,0,16"/>

        <!-- Order Summary -->
        <Border Grid.Row="1" 
                Background="#F0F9FF" 
                CornerRadius="8" 
                Padding="16"
                Margin="0,0,0,16">
            <StackPanel>
                <TextBlock FontSize="14" Margin="0,0,0,8"><Run Text="Customer:" FontWeight="SemiBold"/><Run Text=" "/><Run Text="{Binding CustomerName, Mode=OneWay}"/></TextBlock>
                <TextBlock FontSize="14"><Run Text="Items Count:" FontWeight="SemiBold"/><Run Text=" "/><Run Text="{Binding OrderItems.Count, Mode=OneWay}"/></TextBlock>
            </StackPanel>
        </Border>

        <!-- Order Items Review -->
        <DataGrid Grid.Row="2" 
                  ItemsSource="{Binding OrderItems}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Product" Binding="{Binding ProductName}" Width="*"/>
                <DataGridTextColumn Header="Quantity" Binding="{Binding Quantity}" Width="80"/>
                <DataGridTextColumn Header="Unit Price" Binding="{Binding UnitPrice, StringFormat=C2}" Width="100"/>
                <DataGridTextColumn Header="Total" Binding="{Binding Total, StringFormat=C2}" Width="100"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Total and Navigation -->
        <Grid Grid.Row="3" Margin="0,16,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" 
                    Background="#10B981" 
                    CornerRadius="8" 
                    Padding="16"
                    Margin="0,0,0,16">
                <TextBlock HorizontalAlignment="Right" 
                           FontSize="18" 
                           FontWeight="Bold"
                           Foreground="White"><Run Text="Order Total: "/><Run Text=" "/><Run Text="{Binding OrderTotal, Mode=OneWay, StringFormat=C2}"/></TextBlock>
            </Border>

            <StackPanel Grid.Row="1" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button Content="◀ Back" 
                        Command="{Binding BackCommand}"
                        Padding="20,12"
                        Margin="0,0,12,0"/>
                <Button Content="🎉 Complete Order" 
                        Command="{Binding CompleteCommand}"
                        Padding="20,12"
                        Background="#10B981"
                        Foreground="White"
                        FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>