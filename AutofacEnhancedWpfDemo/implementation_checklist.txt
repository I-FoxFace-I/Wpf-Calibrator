# âœ… Implementation Checklist

## ğŸ¯ Co bylo vytvoÅ™eno (novÃ© soubory):

### **Models.Demo/** (7 souborÅ¯)
- âœ… DemoCustomer.cs
- âœ… DemoAddress.cs  
- âœ… DemoProduct.cs
- âœ… DemoProductCategory.cs
- âœ… DemoOrder.cs
- âœ… DemoOrderItem.cs
- âœ… CustomerType, AddressType enums

### **Data/** (2 soubory)
- âœ… DemoDbContext.cs
- âœ… DemoDbSeeder.cs

### **Services/** (4 novÃ© soubory)
- âœ… INavigator.cs (NEW - ViewModel navigation)
- âœ… Navigator.cs (NEW - implementation)
- âœ… IWindowManager.cs (NEW - window management)
- âœ… WindowManager.cs (NEW - implementation)
- âœ… IAsyncInitializable interface

### **Application.Demo/** (~15 souborÅ¯)
- âœ… Customers/: Queries, Commands, Handlers (5 handlers)
- âœ… Products/: Queries, Commands, Handlers (6 handlers)

### **ViewModels.Demo/** (9 souborÅ¯)
- âœ… AdvancedDemoMenuViewModel.cs
- âœ… DemoCustomerListViewModel.cs
- âœ… DemoCustomerDetailViewModel.cs
- âœ… DemoProductListViewModel.cs
- âœ… DemoProductDetailViewModel.cs
- âœ… DemoWorkflowHostViewModel.cs
- âœ… DemoWorkflowStep1ViewModel.cs
- âœ… DemoWorkflowStep2ViewModel.cs
- âœ… DemoWorkflowStep3ViewModel.cs
- âœ… WorkflowState, WorkflowOrderItem classes

### **Views.Demo/** (6 XAML + 6 CS souborÅ¯)
- âœ… AdvancedDemoMenuWindow.xaml/.cs
- âœ… DemoCustomerListWindow.xaml/.cs
- âœ… DemoCustomerDetailWindow.xaml/.cs
- âœ… DemoProductListWindow.xaml/.cs
- âœ… DemoProductDetailWindow.xaml/.cs
- âœ… DemoWorkflowHostWindow.xaml/.cs

### **Configuration/** (1 soubor)
- âœ… AdvancedDemoModule.cs

### **AktualizovanÃ© soubory:**
- âœ… ViewLocator.cs (podpora Demo namespace)

---

## ğŸ“ CO MUSÃTE UPRAVIT (3-4 soubory):

### **1. App.xaml.cs** 

PÅ™idejte AdvancedDemoModule do registrace:

```csharp
// V metodÄ› OnStartup, Å™Ã¡dek ~40

// 5. Register Autofac modules
containerBuilder.RegisterModule<DataModule>();
containerBuilder.RegisterModule<ServicesModule>();
containerBuilder.RegisterModule<ViewsModule>();
containerBuilder.RegisterModule<AdvancedDemoModule>(); // â† PÅ˜IDAT TENTO Å˜ÃDEK

// 6. Build container
_container = containerBuilder.Build();
```

PÅ™idejte inicializaci Demo databÃ¡ze:

```csharp
// V metodÄ› OnStartup, PÅ˜ED mainWindow.Show()

// 7. Initialize database
InitializeDatabase();
InitializeDemoDatabase(); // â† PÅ˜IDAT TENTO Å˜ÃDEK

// 8. Open main window
var mainWindow = _container.Resolve<MainWindow>();
```

PÅ™idejte metodu InitializeDemoDatabase:

```csharp
private void InitializeDemoDatabase()
{
    try
    {
        var contextFactory = _container!.Resolve<IDbContextFactory<DemoDbContext>>();
        
        using var context = contextFactory.CreateDbContext();
        
        context.Database.EnsureCreated();
        DemoDbSeeder.Seed(context);
        
        var logger = _container.Resolve<ILogger<App>>();
        logger.LogInformation("Demo database initialized successfully");
    }
    catch (Exception ex)
    {
        var logger = _container!.Resolve<ILogger<App>>();
        logger.LogError(ex, "Failed to initialize demo database");
        throw;
    }
}
```

---

### **2. MainViewModel.cs**

PÅ™idejte IWindowManager dependency:

```csharp
public partial class MainViewModel : BaseViewModel
{
    private readonly IWindowManager _windowManager; // â† ZMÄšNIT z INavigator
    
    public MainViewModel(
        IWindowManager windowManager, // â† ZMÄšNIT z INavigator
        ILogger<MainViewModel> logger) : base(logger)
    {
        _windowManager = windowManager;
    }
    
    // StÃ¡vajÃ­cÃ­ commands zÅ¯stÃ¡vajÃ­ stejnÃ©...
    
    // PÅ˜IDAT NOVÃ COMMAND:
    [RelayCommand]
    private void OpenAdvancedDemo()
    {
        Logger.LogInformation("Opening Advanced Patterns Demo");
        _windowManager.ShowWindow<AdvancedDemoMenuViewModel>();
    }
}
```

---

### **3. MainWindow.xaml**

PÅ™idejte tlaÄÃ­tko pro Advanced Demo:

```xml
<StackPanel Grid.Row="1" VerticalAlignment="Center">
    <Button Content="ğŸ”— Scope Hierarchy Demo (â˜… Advanced)"
            Command="{Binding OpenScopeHierarchyDemoCommand}"
            Style="{StaticResource SpecialButton}"/>
    
    <!-- â†“â†“â†“ PÅ˜IDAT TENTO BUTTON â†“â†“â†“ -->
    <Button Content="â­ Advanced Patterns Demo (â˜…â˜… NEW!)"
            Command="{Binding OpenAdvancedDemoCommand}"
            Style="{StaticResource SpecialButton}"
            Margin="0,0,0,12"/>
    <!-- â†‘â†‘â†‘ KONEC PÅ˜IDÃNÃ â†‘â†‘â†‘ -->
    
    <Button Content="ğŸ“¦ Products Management"
            Command="{Binding OpenProductsCommand}"
            Style="{StaticResource MenuButton}"/>
    
    <!-- ... zbytek buttonÅ¯ ... -->
</StackPanel>
```

---

### **4. ServicesModule.cs** (OPTIONAL - pokud chcete IWindowManager v hlavnÃ­ app)

Pokud chcete pouÅ¾Ã­t IWindowManager i ve stÃ¡vajÃ­cÃ­ aplikaci (napÅ™. pro MainViewModel):

```csharp
public class ServicesModule : Module
{
    protected override void Load(ContainerBuilder builder)
    {
        // ViewLocator - Singleton
        builder.RegisterType<ViewLocator>()
               .As<IViewLocator>()
               .SingleInstance();
        
        // â† PÅ˜IDAT POKUD CHCETE IWindowManager V HLAVNÃ APP
        // IWindowManager - InstancePerLifetimeScope
        builder.RegisterType<WindowManager>()
               .As<IWindowManager>()
               .InstancePerLifetimeScope();
        
        // Register all Command Handlers
        builder.RegisterAssemblyTypes(Assembly.GetExecutingAssembly())
               .AsClosedTypesOf(typeof(ICommandHandler<>))
               .InstancePerDependency();
        
        // Register all Query Handlers
        builder.RegisterAssemblyTypes(Assembly.GetExecutingAssembly())
               .AsClosedTypesOf(typeof(IQueryHandler<,>))
               .InstancePerDependency();
    }
}
```

---

## ğŸš€ TestovÃ¡nÃ­:

### **Krok 1: Build**
```bash
dotnet build
```
MÄ›lo by probÄ›hnout BEZ CHYB.

### **Krok 2: SpuÅ¡tÄ›nÃ­**
```bash
dotnet run
```

### **Krok 3: Test Advanced Demo**
1. âœ… OtevÅ™e se MainWindow
2. âœ… KliknÄ›te na "â­ Advanced Patterns Demo"
3. âœ… OtevÅ™e se AdvancedDemoMenuWindow
4. âœ… KliknÄ›te "ğŸ‘¥ Demo Customer List"
5. âœ… MÄ›li byste vidÄ›t 3 zÃ¡kaznÃ­ky s rozÅ¡Ã­Å™enÃ½mi daty
6. âœ… Select customer â†’ Click "View Detail"
7. âœ… MÄ›li byste vidÄ›t vÅ¡echna data + adresy
8. âœ… Test stejnÄ› pro Products
9. âœ… Test "ğŸš€ Workflow with INavigator"
10. âœ… Workflow naviguje pomocÃ­ INavigator (Step 1 â†’ 2 â†’ 3)

---

## ğŸ¯ VÃ½sledek:

Po tÄ›chto ÃºpravÃ¡ch budete mÃ­t:

âœ… **StÃ¡vajÃ­cÃ­ aplikace** - nezmÄ›nÄ›nÃ¡, plnÄ› funkÄnÃ­  
âœ… **Advanced Demo modul** - ukÃ¡zka INavigator + IWindowManager  
âœ… **Detail views** - zobrazenÃ­ vÅ¡ech dat vÄetnÄ› relacÃ­  
âœ… **Workflow s INavigator** - pÅ™epÃ­nÃ¡nÃ­ ViewModels v jednom oknÄ›  
âœ… **DvÄ› separÃ¡tnÃ­ databÃ¡ze** - hlavnÃ­ (DemoDb.db) + demo (DemoDb_Advanced.db)  
âœ… **Educational value** - vidÃ­te oba pÅ™Ã­stupy vedle sebe  

---

## ğŸ“Š ShrnutÃ­ zmÄ›n:

| Co upravit | Soubor | Kolik Å™Ã¡dkÅ¯ |
|-----------|--------|-------------|
| PÅ™idat module | App.xaml.cs | +1 Å™Ã¡dek |
| PÅ™idat init | App.xaml.cs | +15 Å™Ã¡dkÅ¯ |
| ZmÄ›nit dependency | MainViewModel.cs | 2 Å™Ã¡dky |
| PÅ™idat command | MainViewModel.cs | +7 Å™Ã¡dkÅ¯ |
| PÅ™idat button | MainWindow.xaml | +5 Å™Ã¡dkÅ¯ |
| **CELKEM** | **3 soubory** | **~30 Å™Ã¡dkÅ¯** |

---

## â“ Co dÄ›lat pokud:

### **Build error: "DemoDbContext not found"**
â†’ UjistÄ›te se, Å¾e mÃ¡te vÅ¡echny novÃ© soubory (Models.Demo, Data)

### **Runtime error: "AdvancedDemoMenuViewModel not registered"**
â†’ Zkontrolujte Å¾e jste pÅ™idali `RegisterModule<AdvancedDemoModule>()`

### **Window se neotevÅ™e**
â†’ Check console logs pro detaily
â†’ UjistÄ›te se, Å¾e ViewLocator podporuje Demo namespace (uÅ¾ je aktualizovÃ¡no)

### **Database error**
â†’ SmaÅ¾te `DemoDb_Advanced.db` a zkuste znovu

---

**Hotovo! Po tÄ›chto ÃºpravÃ¡ch mÃ¡te plnÄ› funkÄnÃ­ Advanced Demo modul! ğŸ‰**
